version: '3.1'

services:

 django-app:
  build:
    context: .
  restart: always
  # flask requires SIGINT to stop gracefully
  # (default stop signal from Compose is SIGTERM)
  stop_signal: SIGINT
  ports:
    - 8000:8000
  deploy:
    resources:
        limits:
          cpus: '1'
          memory: 200M